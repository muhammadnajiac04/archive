<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Cartographer's Archive | Rare Tomes</title>
    <link rel="stylesheet" href="style.css">
    <!-- Magical Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <!-- Custom Cursor -->
    <div id="custom-cursor"></div>

    <!-- Parchment Texture Overlay -->
    <div id="parchment-layer"></div>
    <div id="vignette-layer"></div>

    <!-- Decorative Compass (Parallax Target) -->
    <img src="assets/compass.svg" id="bg-compass" class="parallax" data-speed="0.05" alt="Compass Rose">

    <!-- Navigation -->
    <nav id="main-nav">
        <div class="hamburger" onclick="toggleMenu()">
            <i class="fas fa-bars"></i>
        </div>
        <div class="logo">The Archive</div>
        <ul class="nav-links">
            <li><a href="#home" class="active">Map Home</a></li>
            <li><a href="#offers">Bounties</a></li>
            <li><a href="#shop">The Collection</a></li>
            <li><a href="#newsletter">Owl Post</a></li>
        </ul>
        <div class="cart-icon" onclick="toggleCart()">
            <i class="fas fa-scroll"></i>
            <span id="cart-count">0</span>
        </div>
    </nav>

    <!-- Hero Section -->
    <header id="hero">
        <div class="hero-border parallax" data-speed="0.02">
            <div class="hero-content">
                <h1>Chart the Unknown</h1>
                <p>Rare manuscripts, forgotten maps, and magical tomes.</p>
                <a href="#shop" class="cta-btn">Unroll the Map</a>
            </div>
        </div>
    </header>

    <!-- Offers Section -->
    <section id="offers">
        <div class="section-header">
            <h2><i class="fas fa-star" style="font-size: 1.5rem; color: #8b0000;"></i> Limited Bounties</h2>
            <p>Exclusive artifacts discovered in the sunken ruins.</p>
        </div>
        <div class="offers-grid" id="offers-grid">
            <!-- Offer items injected via JS -->
        </div>
    </section>

    <!-- Shop Section -->
    <section id="shop">
        <div class="section-header">
            <h2>The Grand Library</h2>

            <!-- Search Bar -->
            <div class="search-container">
                <i class="fas fa-search"></i>
                <input type="text" id="rune-search" placeholder="Search by rune or title...">
            </div>

            <div class="filters">
                <button class="filter-btn active" data-filter="all">All Tomes</button>
                <button class="filter-btn" data-filter="sci-fi">Starmaps</button>
                <button class="filter-btn" data-filter="fantasy">Grimoires</button>
                <button class="filter-btn" data-filter="ancient">Relics</button>
            </div>
        </div>

        <div class="product-grid" id="product-grid">
            <!-- Products injected via JS -->
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials">
        <div class="section-header">
            <h2>Wizard's Words</h2>
        </div>
        <div class="testimonial-grid">
            <div class="testimonial-card">
                <p>"The Starmaps I found here led me to a dimension made entirely of cheese. 10/10."</p>
                <h4>- Sheogorath, Prince of Madness</h4>
            </div>
            <div class="testimonial-card">
                <p>"Finally, a Grimoire that doesn't scream when you open it. Excellent binding."</p>
                <h4>- Hermione G.</h4>
            </div>
            <div class="testimonial-card">
                <p>"Fast delivery via Dragon. Though the dragon did eat my mailbox."</p>
                <h4>- Radagast the Brown</h4>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section id="newsletter">
        <div class="newsletter-content">
            <i class="fas fa-feather-alt" style="font-size: 3rem; margin-bottom: 20px; color: var(--ink-color);"></i>
            <h2>Owl Post Subscription</h2>
            <p>Receive updates on new artifacts and magical discoveries.</p>
            <form class="newsletter-form" onsubmit="event.preventDefault(); alert('Owl dispatched!');">
                <input type="email" placeholder="Your magical address..." required>
                <button type="submit">Send Owl</button>
            </form>
        </div>
    </section>

    <!-- Book Details Modal -->
    <div id="book-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <div class="modal-body">
                <div class="modal-img">
                    <i class="fas fa-book-open"></i>
                </div>
                <div class="modal-details">
                    <h2 id="modal-title">Book Title</h2>
                    <p id="modal-author" class="modal-meta">Author Name</p>
                    <p id="modal-desc">Description goes here...</p>
                    <div class="modal-stats">
                        <span><i class="fas fa-hourglass-half"></i> <span id="modal-era">Era</span></span>
                        <span><i class="fas fa-weight-hanging"></i> <span id="modal-weight">Weight</span></span>
                    </div>
                    <div class="modal-actions">
                        <span id="modal-price" class="price">0.00 Gold</span>
                        <button id="modal-add-btn" class="add-btn">Acquire</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkout-modal" class="modal">
        <div class="modal-content checkout-content">
            <span class="close-modal" onclick="closeCheckout()">&times;</span>
            <div class="checkout-body">
                <h2>Secure the Artifacts</h2>
                <form id="checkout-form" onsubmit="event.preventDefault(); processOrder();">
                    <div class="form-group">
                        <label>Wizard / Witch Name</label>
                        <input type="text" id="cust-name" required placeholder="Merlin Ambrosis">
                    </div>
                    <div class="form-group">
                        <label>Delivery Tower / Dungeon</label>
                        <input type="text" id="cust-address" required placeholder="7th Spire, Cloud City">
                    </div>
                    <div class="form-group">
                        <label>Payment Method</label>
                        <select id="cust-payment">
                            <option value="gold">Gold Coins</option>
                            <option value="scales">Dragon Scales</option>
                            <option value="promise">Magical Vow</option>
                        </select>
                    </div>
                    <div class="checkout-summary">
                        <p>Total Estimate: <span id="checkout-total">0.00</span> Gold</p>
                    </div>
                    <button type="submit" class="cta-btn" style="width:100%; margin-top:20px;">Seal the Deal</button>
                </form>

                <!-- Receipt View (Hidden by default) -->
                <div id="order-receipt" style="display:none; text-align:center;">
                    <i class="fas fa-scroll" style="font-size:4rem; color:var(--ink-color); margin-bottom:20px;"></i>
                    <h3>Scroll of Ownership</h3>
                    <p>Order ID: <span id="order-id">#0000</span></p>
                    <p>Thank you, <span id="receipt-name">Traveler</span>.</p>
                    <div id="receipt-items"
                        style="margin:20px 0; border-top:1px dashed #000; border-bottom:1px dashed #000; padding:10px 0;">
                    </div>
                    <p>Total Paid: <span id="receipt-total">0.00</span> Gold</p>
                    <p style="font-size:0.9rem; font-style:italic; margin-top:20px;">Owl delivery expected within 3
                        moons.</p>
                    <button onclick="closeCheckout()" class="cta-btn" style="margin-top:20px;">Close Scroll</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div id="cart-sidebar">
        <div class="cart-header">
            <h2>Traveler's Satchel</h2>
            <button class="close-cart" onclick="toggleCart()">&times;</button>
        </div>
        <div class="cart-items" id="cart-items">
            <p class="empty-msg">Your satchel contains no artifacts.</p>
        </div>
        <div class="cart-footer">
            <div class="total">
                <span>Total Gold:</span>
                <span id="cart-total">0.00</span>
            </div>
            <button class="checkout-btn">Seal the Deal</button>
        </div>
    </div>

    <div id="cart-overlay" onclick="toggleCart()"></div>

    <footer>
        <div class="footer-seal">
            <i class="fas fa-compass"></i>
        </div>
        <p>Est. 1492 &bull; The Cartographer's Guild</p>
    </footer>

    <script src="script.js"></script>
</body>

</html>